<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description"
        content="Find the best restaurant jobs in Kenya. We connect passionate chefs, servers, and bartenders with top establishments.">
    <title>RestaurantJobs | Top Culinary Careers in Kenya</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&family=Playfair+Display:wght@500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./style.css">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://restaurantjobs.pages.dev/">
    <meta property="og:title" content="RestaurantJobs | Top Culinary Careers in Kenya">
    <meta property="og:description"
        content="Find the best restaurant jobs in Kenya. We connect passionate chefs, servers, and bartenders with top establishments.">
    <meta property="og:image" content="https://restaurantjobs.pages.dev/kitchen-color.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://restaurantjobs.pages.dev/">
    <meta property="twitter:title" content="RestaurantJobs | Top Culinary Careers in Kenya">
    <meta property="twitter:description"
        content="Find the best restaurant jobs in Kenya. We connect passionate chefs, servers, and bartenders with top establishments.">
    <meta property="twitter:image" content="https://restaurantjobs.pages.dev/kitchen-color.png">
</head>

<body>
    <!-- Navigation -->
    <!-- Navigation -->
    <nav class="container">
        <a href="/" class="nav-brand">Restaurant<span style="color: var(--accent-color);">Jobs</span></a>

        <button id="mobile-menu-btn" class="mobile-menu-btn" aria-label="Toggle Menu">&#9776;</button>

        <div id="nav-links" class="nav-links">
            <a href="/">Home</a>
            <a href="/jobs.html">Find Jobs</a>
            <a href="/blog.html">Blog</a>
            <a id="nav-saved-jobs" href="/saved-jobs.html" style="display: none;">Saved Jobs</a>
            <a href="/employer-register.html">Submit Job</a>
            <a href="/apply.html">Submit CV</a>
            <a href="/auth.html" id="nav-auth-btn">Sign In</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <header
        style="position: relative; height: 80vh; display: flex; align-items: center; justify-content: center; overflow: hidden; color: white; text-align: center;">
        <!-- ... (Hero content) ... -->
        <div class="hero-slideshow">
            <div class="hero-slide" style="background-image: url('/hero-dining.png');"></div>
            <div class="hero-slide" style="background-image: url('/hero-bar.png');"></div>
            <div class="hero-slide" style="background-image: url('/kitchen-color.png');"></div>
        </div>
        <div class="hero-overlay"></div>

        <div class="container fade-in" style="position: relative; z-index: 10;">
            <h1 style="font-size: 3.5rem; margin-bottom: 20px; color: #fff;">Hospitality Jobs Across Kenya</h1>
            <p
                style="font-size: 1.25rem; margin-bottom: 30px; max-width: 600px; margin-left: auto; margin-right: auto; opacity: 0.9;">
                Connecting Kenya's top hospitality talent with the best restaurants. We handle sourcing, interviewing,
                and vetting so you don't have to.
            </p>
            <a href="/jobs.html" class="btn" style="background-color: var(--accent-color); color: white;">Browse Kenyan
                Jobs</a>
        </div>
    </header>

    <!-- Featured Section -->
    <section class="featured-section container fade-in">
        <h2 style="font-size: 2.5rem; margin-bottom: 10px;">Featured Opportunities</h2>
        <p style="color: var(--text-muted); max-width: 600px; margin: 0 auto;">Hand-picked roles from Kenya's most
            prestigious establishments.</p>

        <div id="featured-grid" class="featured-grid">
            <!-- Loading -->
            <p>Loading top jobs...</p>
        </div>

        <div style="margin-top: 40px;">
            <a href="/jobs.html" class="btn-secondary">View All Positions</a>
        </div>
    </section>

    <!-- SEO Links Section -->
    <section class="container" style="margin-top: 80px; padding: 60px 20px; background: #f8f9fa; border-radius: 16px;">
        <div style="text-align: center; margin-bottom: 40px;">
            <h2 style="font-size: 2rem; margin-bottom: 10px; font-family: 'Playfair Display', serif;">Popular Job
                Searches</h2>
            <p style="color: var(--text-muted); font-size: 1.1rem;">Top opportunities across Kenya</p>
        </div>

        <div
            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; max-width: 900px; margin: 0 auto;">
            <a href="/chef-jobs-nairobi.html" class="tag-pill"
                style="padding: 15px 20px; background: white; border: 2px solid #e9ecef; transition: all 0.3s ease;">
                Chef Jobs Nairobi
            </a>
            <a href="/waiter-jobs-nairobi.html" class="tag-pill"
                style="padding: 15px 20px; background: white; border: 2px solid #e9ecef; transition: all 0.3s ease;">
                Waiter Jobs Nairobi
            </a>
            <a href="/waiter-jobs-mombasa.html" class="tag-pill"
                style="padding: 15px 20px; background: white; border: 2px solid #e9ecef; transition: all 0.3s ease;">
                Waiter Jobs Mombasa
            </a>
            <a href="/manager-jobs-nairobi.html" class="tag-pill"
                style="padding: 15px 20px; background: white; border: 2px solid #e9ecef; transition: all 0.3s ease;">
                Manager Jobs Nairobi
            </a>
            <a href="/barista-jobs-kisumu.html" class="tag-pill"
                style="padding: 15px 20px; background: white; border: 2px solid #e9ecef; transition: all 0.3s ease;">
                Barista Jobs Kisumu
            </a>
            <a href="/blog-top-restaurants-2026.html" class="tag-pill highlight" id="blog-link"
                style="padding: 15px 20px; background: var(--accent-color); color: white; border: none; box-shadow: 0 4px 15px rgba(255, 107, 0, 0.3); transition: all 0.3s ease;">
                Top 10 Restaurants Hiring in <span id="popular-search-month"></span> 2026
            </a>
        </div>

        <script>
            // Dynamically set current month in Popular Searches
            const months = ['January', 'February', 'March', 'April', 'May', 'June',
                'July', 'August', 'September', 'October', 'November', 'December'];
            const currentMonth = months[new Date().getMonth()];
            document.getElementById('popular-search-month').textContent = currentMonth;

            // Add hover effects
            document.querySelectorAll('.tag-pill').forEach(pill => {
                if (!pill.classList.contains('highlight')) {
                    pill.addEventListener('mouseenter', function () {
                        this.style.borderColor = 'var(--accent-color)';
                        this.style.transform = 'translateY(-2px)';
                        this.style.boxShadow = '0 4px 12px rgba(0,0,0,0.1)';
                    });
                    pill.addEventListener('mouseleave', function () {
                        this.style.borderColor = '#e9ecef';
                        this.style.transform = 'translateY(0)';
                        this.style.boxShadow = 'none';
                    });
                }
            });
        </script>
    </section>

    <!-- Footer -->
    <footer style="background-color: var(--text-main); color: white; padding: 40px 0; margin-top: 40px;">
        <div class="container"
            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 40px; margin-bottom: 20px;">
            <div>
                <h4 style="color: white; margin-bottom: 10px;">RestaurantJobs</h4>
                <p style="color: #999; font-size: 0.9rem;">Kenya's Premier Hospitality Recruitment Agency.</p>
            </div>
            <div>
                <h5 style="color: white; margin-bottom: 10px; font-family: 'Nunito', sans-serif;">Quick Links</h5>
                <a href="/jobs.html"
                    style="display: block; color: #999; margin-bottom: 8px; text-decoration: none; font-size: 0.9rem;">Find
                    Jobs</a>
                <a href="/blog.html"
                    style="display: block; color: #999; margin-bottom: 8px; text-decoration: none; font-size: 0.9rem;">Blog</a>
                <a href="/employer-register.html"
                    style="display: block; color: #999; margin-bottom: 8px; text-decoration: none; font-size: 0.9rem;">Post
                    a Job</a>
                <a href="/apply.html"
                    style="display: block; color: #999; margin-bottom: 8px; text-decoration: none; font-size: 0.9rem;">Submit
                    CV</a>
            </div>
            <div>
                <h5 style="color: white; margin-bottom: 10px; font-family: 'Nunito', sans-serif;">Contact</h5>
                <p style="color: #999; font-size: 0.9rem;">Westlands, Nairobi, Kenya</p>
                <p style="color: #999; font-size: 0.9rem;"><a href="mailto:info@restaurantjobs.co.ke"
                        style="color: #999;">info@restaurantjobs.co.ke</a></p>
                <p style="color: #999; font-size: 0.9rem;">+254 700 123 456</p>
            </div>
        </div>
        <p
            style="text-align: center; color: #999; font-size: 0.9rem; border-top: 1px solid #333; padding-top: 20px; margin-top: 20px;">
            &copy; 2026 RestaurantJobs Kenya. All rights reserved.
        </p>
    </footer>

    <!-- No Payment Modal for now -->

    <script type="module" src="/src/ui.js"></script>
    <script type="module">
        import { supabase } from './src/supabaseClient.js';
        import { isJobSaved, toggleSaveJob } from './src/ui.js';

        // Expose toggle to window
        window.toggleSave = function (id, btn) {
            const isNowSaved = toggleSaveJob(id);
            btn.innerText = isNowSaved ? '♥' : '♡';
            btn.style.color = isNowSaved ? 'var(--error-color)' : 'var(--text-muted)';
            if (isNowSaved) {
                btn.style.transform = 'scale(1.2)';
                setTimeout(() => btn.style.transform = 'scale(1)', 200);
            }
        };

        async function loadFeaturedJobs() {
            const grid = document.getElementById('featured-grid');
            try {
                // Fetch top 3 paying jobs
                const { data: jobs, error } = await supabase
                    .from('jobs')
                    .select('*')
                    .eq('status', 'published')
                    // .gt('salary_max', 40000) // Temporarily removed to prevent "column does not exist" error
                    .order('created_at', { ascending: false })
                    .limit(3);

                if (error) throw error;

                if (!jobs || jobs.length === 0) {
                    grid.innerHTML = '<p>No featured jobs at the moment.</p>';
                    return;
                }

                grid.innerHTML = '';
                jobs.forEach(job => {
                    const card = document.createElement('div');
                    card.className = 'featured-card';

                    card.innerHTML = `
                        <div class="featured-card-header">
                            <span class="featured-badge">Featured</span>
                        </div>
                        <h3 class="featured-title">${job.title}</h3>
                        <div class="featured-meta">
                            <span class="meta-item"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg> ${job.location}</span>
                            ${job.salary_max ? `<span class="meta-item"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg> KES ${(job.salary_max / 1000)}k</span>` : ''}
                            <span class="meta-item"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> ${job.type}</span>
                        </div>
                        <p class="featured-description">${job.description.substring(0, 120)}...</p>
                        <a href="/job-details.html?id=${job.id}" class="featured-cta">View Details →</a>
                    `;
                    grid.appendChild(card);
                });

            } catch (err) {
                console.error(err);
                grid.innerHTML = '<p>Could not load jobs.</p>';
            }
        }

        loadFeaturedJobs();
    </script>
</body>

</html>